/* ================================================================
   tokens.css — Design tokens (colors, spacing, typography, radii,
   shadows, transitions).  Single source of truth for the visual
   language.  Loaded first by _base.html; all other CSS references
   these custom properties via var().
   ================================================================ */

:root {

  /* ---- Colors ------------------------------------------------- */

  /* Brand */
  --color-primary: #0f3460;
  --color-primary-dark: #16213e;

  /* Backgrounds */
  --color-bg: #f0f2f5;
  --color-surface: #ffffff;
  --color-surface-subtle: #f8f9fb;

  /* Text — 5-step scale (primary → disabled) */
  --color-text: #1a1a2e;           /* primary text, headings, strong */
  --color-text-secondary: #475569; /* secondary info, data row names */
  --color-text-muted: #64748b;     /* supporting text, explanations */
  --color-text-faint: #94a3b8;     /* metadata, timestamps, footnotes */
  --color-text-disabled: #b0b8c4;  /* disabled states only */

  /* Aliases — old token names (backward compat) */
  --color-text-strong: var(--color-text);
  --color-text-dark: var(--color-text);
  --color-text-heading: var(--color-text-secondary);
  --color-text-dim: var(--color-text-muted);
  --color-text-light: var(--color-text-muted);
  --color-text-lighter: var(--color-text-faint);
  --color-text-faintest: var(--color-text-faint);

  /* Borders — 2-step scale */
  --color-border: #e2e8f0;       /* standard borders */
  --color-border-light: #f0f2f5; /* subtle dividers */

  /* Aliases — old token names (backward compat) */
  --color-border-muted: var(--color-border);
  --color-border-card: var(--color-border-light);

  /* Status: Pass / Good */
  --color-pass-bg: #d1fae5;
  --color-pass-text: #065f46;

  /* Status: Fail / Bad */
  --color-fail-bg: #fee2e2;
  --color-fail-text: #991b1b;

  /* Status: Borderline */
  --color-borderline-bg: #fff3e0;
  --color-borderline-text: #e65100;

  /* Status: OK / Middling */
  --color-ok-bg: #fff3cd;
  --color-ok-text: #856404;

  /* Status: Warning */
  --color-warning-bg: #fef3c7;
  --color-warning-text: #92400e;
  --color-warning-border: #fde68a;
  --color-warning-surface: #fffbeb;
  --color-warning-text-dark: #78350f;

  /* Status: Danger / Error */
  --color-danger: #ef4444;
  --color-danger-bg: #fef2f2;
  --color-danger-border: #fca5a5;
  --color-danger-text: #991b1b;
  --color-danger-text-dark: #7f1d1d;

  /* Score bands (AQI-inspired) */
  --band-exceptional:       #059669;
  --band-exceptional-light: #d1fae5;
  --band-strong:            #16a34a;
  --band-strong-light:      #dcfce7;
  --band-moderate:          #eab308;
  --band-moderate-light:    #fef9c3;
  --band-limited:           #f97316;
  --band-limited-light:     #ffedd5;
  --band-poor:              #ef4444;
  --band-poor-light:        #fee2e2;

  /* Accent */
  --color-amber: #d97706;
  --color-amber-border: #f59e0b;
  --color-builder-accent: #fbbf24;

  /* Interactive States */
  --color-disabled-bg: #8899aa;

  /* Overlay */
  --color-overlay-bg: rgba(255, 255, 255, 0.92);

  /* ---- Spacing ------------------------------------------------ */
  /* 4px grid — clean scale. Old names aliased for backward compat. */

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-16: 64px;

  /* Aliases — old token names (backward compat; 16px → --space-4) */
  --space-12: var(--space-3);
  --space-14: var(--space-3);
  --space-18: var(--space-4);
  --space-20: var(--space-5);
  --space-24: var(--space-6);
  --space-28: var(--space-6);
  --space-30: var(--space-8);
  --space-32: var(--space-8);
  --space-36: var(--space-8);
  --space-40: var(--space-10);
  --space-60: var(--space-16);

  /* ---- Typography --------------------------------------------- */

  /* Font family */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;

  /* Font sizes — 8-step type scale */
  --text-3xl: 2.25rem;    /* 36px — hero headlines only */
  --text-2xl: 1.5rem;     /* 24px — score ring value, stat card values */
  --text-xl: 1.125rem;    /* 18px — section h2, score band label */
  --text-lg: 1rem;        /* 16px — body text, inputs, prominent data */
  --text-base: 0.875rem;  /* 14px — data row names, nav links, most UI text */
  --text-sm: 0.75rem;     /* 12px — category labels, footnotes, subscore labels */
  --text-xs: 0.6875rem;   /* 11px — pill badges, walkscore labels */

  /* Aliases — old token names mapped to new scale (backward compat) */
  --font-size-3xl: var(--text-3xl);
  --font-size-2xl: var(--text-3xl);
  --font-size-2xl-2: var(--text-3xl);
  --font-size-xl: var(--text-3xl);
  --font-size-xl-2: var(--text-3xl);
  --font-size-lg-2: var(--text-2xl);
  --font-size-lg: var(--text-xl);
  --font-size-md-3: var(--text-xl);
  --font-size-md-2: var(--text-xl);
  --font-size-md: var(--text-base);
  --font-size-md-sm: var(--text-base);
  --font-size-base: var(--text-lg);
  --font-size-body-2: var(--text-base);
  --font-size-body-3: var(--text-base);
  --font-size-body-4: var(--text-base);
  --font-size-body-5: var(--text-base);
  --font-size-sm: var(--text-sm);
  --font-size-sm-2: var(--text-sm);
  --font-size-sm-3: var(--text-sm);
  --font-size-xs: var(--text-sm);
  --font-size-xs-2: var(--text-sm);
  --font-size-xs-3: var(--text-xs);
  --font-size-small: var(--text-sm);

  /* Font sizes — pixel-locked (prevent iOS auto-zoom on focus)    */
  --font-size-input: 16px;     /* search input (iOS requires ≥16px)     */
  --font-size-button: 15px;    /* search button                         */
  --font-size-cookie: 14px;    /* cookie banner text                    */

  /* Font weights */
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;

  /* Line heights */
  --line-height-none: 1;
  --line-height-tight: 1.3;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.6;
  --line-height-loose: 1.7;

  /* Letter spacing */
  --letter-spacing-tight: -0.02em;
  --letter-spacing-wide: 0.03em;
  --letter-spacing-wider: 0.04em;

  /* ---- Border Radius ------------------------------------------ */

  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;

  /* ---- Shadows ------------------------------------------------ */

  --shadow-card: 0 1px 6px rgba(0, 0, 0, 0.04);
  --shadow-elevated: 0 4px 20px rgba(0, 0, 0, 0.08);

  /* ---- Transitions -------------------------------------------- */

  --transition-fast: 0.2s ease;

  /* ---- Breakpoints (reference only) --------------------------- */
  /* CSS custom properties cannot be used in @media queries.
     Documented here so the canonical values live with the tokens.
     Mobile:  max-width: 640px   — phones
     Tablet:  max-width: 768px   — small tablets, iPad portrait
     Desktop: max-width: 1024px  — large tablets, small desktops
     Rail:    min-width: 1200px  — desktop with sticky sidebar    */
}

/* ---- Accessibility Utilities ---------------------------------- */

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
